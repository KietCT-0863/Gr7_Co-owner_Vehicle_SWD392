@page
@model Co_owner_Vehicle.Pages.Bookings.IndexModel
@{
    ViewData["Title"] = "Danh sách đặt lịch";
}

<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="fw-bold mb-1">
            <i class="bi bi-list-ul text-primary me-2"></i>Danh sách đặt lịch
        </h2>
        <p class="text-muted mb-0">Quản lý tất cả lịch đặt xe trong hệ thống</p>
    </div>
    <div>
        <a asp-page="/Bookings/Calendar" class="btn btn-outline-secondary me-2">
            <i class="bi bi-calendar-week me-2"></i>Xem lịch
        </a>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createBookingModal">
            <i class="bi bi-plus-lg me-2"></i>Đặt lịch mới
        </button>
    </div>
</div>

<!-- Filter Tabs -->
<ul class="nav nav-pills mb-4" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#all">
            Tất cả <span class="badge bg-secondary ms-2">24</span>
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#pending">
            <i class="bi bi-clock-history me-1"></i>Chờ duyệt <span class="badge bg-warning ms-2">8</span>
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#confirmed">
            <i class="bi bi-check-circle me-1"></i>Đã duyệt <span class="badge bg-success ms-2">12</span>
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#inuse">
            <i class="bi bi-car-front me-1"></i>Đang sử dụng <span class="badge bg-primary ms-2">3</span>
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#completed">
            <i class="bi bi-check-all me-1"></i>Hoàn thành <span class="badge bg-info ms-2">45</span>
        </button>
    </li>
</ul>

<!-- Bookings Table -->
<div class="card">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Người đặt</th>
                        <th>Xe</th>
                        <th>Thời gian bắt đầu</th>
                        <th>Thời gian kết thúc</th>
                        <th>Mục đích</th>
                        <th>Trạng thái</th>
                        <th>Thao tác</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Booking 1 - Confirmed -->
                    <tr>
                        <td><strong class="text-primary">#BK0124</strong></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <img src="https://ui-avatars.com/api/?name=Nguyen+Van+A&background=4F46E5&color=fff" 
                                     class="rounded-circle" width="32" height="32">
                                <div>
                                    <strong>Nguyễn Văn A</strong><br>
                                    <small class="text-muted">0901111111</small>
                                </div>
                            </div>
                        </td>
                        <td>
                            <strong>Tesla Model 3</strong><br>
                            <small class="text-muted">30A-12345</small>
                        </td>
                        <td>
                            29/10/2024<br>
                            <small class="text-muted">08:00</small>
                        </td>
                        <td>
                            29/10/2024<br>
                            <small class="text-muted">12:00</small>
                        </td>
                        <td>
                            Đi công tác<br>
                            <small class="text-muted">4 giờ</small>
                        </td>
                        <td>
                            <span class="badge bg-success">
                                <i class="bi bi-check-circle me-1"></i>Đã duyệt
                            </span>
                        </td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" title="Chi tiết">
                                    <i class="bi bi-eye"></i>
                                </button>
                                <button class="btn btn-outline-danger" title="Hủy">
                                    <i class="bi bi-x-lg"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- Booking 2 - Pending -->
                    <tr class="table-warning">
                        <td><strong class="text-warning">#BK0125</strong></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <img src="https://ui-avatars.com/api/?name=Tran+Thi+B&background=10B981&color=fff" 
                                     class="rounded-circle" width="32" height="32">
                                <div>
                                    <strong>Trần Thị B</strong><br>
                                    <small class="text-muted">0902222222</small>
                                </div>
                            </div>
                        </td>
                        <td>
                            <strong>VinFast VF8</strong><br>
                            <small class="text-muted">30D-22222</small>
                        </td>
                        <td>
                            31/10/2024<br>
                            <small class="text-muted">14:00</small>
                        </td>
                        <td>
                            31/10/2024<br>
                            <small class="text-muted">18:00</small>
                        </td>
                        <td>
                            Đi du lịch<br>
                            <small class="text-muted">4 giờ</small>
                        </td>
                        <td>
                            <span class="badge bg-warning">
                                <i class="bi bi-clock-history me-1"></i>Chờ duyệt
                            </span>
                        </td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-success" title="Duyệt">
                                    <i class="bi bi-check-lg"></i>
                                </button>
                                <button class="btn btn-danger" title="Từ chối">
                                    <i class="bi bi-x-lg"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- Booking 3 - In Use -->
                    <tr class="table-primary">
                        <td><strong class="text-primary">#BK0123</strong></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <img src="https://ui-avatars.com/api/?name=Hoang+Van+E&background=6366F1&color=fff" 
                                     class="rounded-circle" width="32" height="32">
                                <div>
                                    <strong>Hoàng Văn E</strong><br>
                                    <small class="text-muted">0906666666</small>
                                </div>
                            </div>
                        </td>
                        <td>
                            <strong>Honda Civic</strong><br>
                            <small class="text-muted">30C-11111</small>
                        </td>
                        <td>
                            29/10/2024<br>
                            <small class="text-muted">07:00</small>
                        </td>
                        <td>
                            29/10/2024<br>
                            <small class="text-muted">19:00</small>
                        </td>
                        <td>
                            Đi họp khách<br>
                            <small class="text-muted">12 giờ</small>
                        </td>
                        <td>
                            <span class="badge bg-primary">
                                <i class="bi bi-car-front me-1"></i>Đang sử dụng
                            </span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" title="Check-in">
                                <i class="bi bi-box-arrow-in-left"></i>
                            </button>
                        </td>
                    </tr>
                    
                    <!-- Booking 4 - Completed -->
                    <tr>
                        <td><strong class="text-muted">#BK0122</strong></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <img src="https://ui-avatars.com/api/?name=Le+Van+C&background=F59E0B&color=fff" 
                                     class="rounded-circle" width="32" height="32">
                                <div>
                                    <strong>Lê Văn C</strong><br>
                                    <small class="text-muted">0903333333</small>
                                </div>
                            </div>
                        </td>
                        <td>
                            <strong>Toyota Prius</strong><br>
                            <small class="text-muted">30B-67890</small>
                        </td>
                        <td>
                            28/10/2024<br>
                            <small class="text-muted">10:00</small>
                        </td>
                        <td>
                            28/10/2024<br>
                            <small class="text-muted">14:00</small>
                        </td>
                        <td>
                            Đi mua sắm<br>
                            <small class="text-muted">4 giờ</small>
                        </td>
                        <td>
                            <span class="badge bg-info">
                                <i class="bi bi-check-all me-1"></i>Hoàn thành
                            </span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" title="Xem lịch sử">
                                <i class="bi bi-clock-history"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="card-footer bg-transparent">
        <div class="d-flex justify-content-between align-items-center">
            <small class="text-muted">Hiển thị 1-4 trong 24 kết quả</small>
            <nav>
                <ul class="pagination pagination-sm mb-0">
                    <li class="page-item disabled">
                        <a class="page-link" href="#">Trước</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Sau</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>

